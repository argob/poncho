let calendar={ordenarPorFecha(e){return e.sort((e,t)=>this.parseDate(e.date).dateObject-this.parseDate(t.date).dateObject)},parseDate(e){var t,a;if("string"==typeof e)return[e,t,a]=e.split("/"),{dateObject:new Date(a,t-1,e),markerDay:e,markerMonth:t,markerYear:a,markerDayInt:parseInt(e),markerMonthInt:parseInt(t),markerYearInt:parseInt(a)}},toggleText(e,t){for(var a of document.querySelectorAll(`[data-${e}-${t}]`)){var r=(e+"-"+t).toLowerCase().replace(/-([a-z])/g,(e,t)=>t.toUpperCase());a.textContent=a.dataset[r],a.lang=t}},tZone(e,t="America/Argentina/Buenos_Aires"){if(e instanceof Date)return new Date(e.toLocaleString("en-US",{timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}));throw new TypeError("Se espera un objeto Date()")},timeZone:"America/Argentina/Buenos_Aires",dictionary:{es:{dayAnchor:"{day} de {month}",holidaysListTitle:"Listado de feriados",holidaysType:{inamovible:"Feriado inamovible",no_laborable:"Día no laborable",trasladable:"Feriado trasladable",turistico:"Feriado turístico"},jumpToList:"Ir al listado de {month}",months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],nextHoliday:"{day} de {month} de {year}",weekDays:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],weekDaysAbbr:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"]},en:{dayAnchor:"{month} {day}th.",holidaysListTitle:"Holidays list",holidaysType:{inamovible:"Fixed Holiday",no_laborable:"Non-Working Day",trasladable:"Movable Holiday",turistico:"Tourist Holiday"},jumpToList:"Jump to {month} list",months:["January","February","March","April","May","June","July","August","September","October","November","December"],nextHoliday:"{month} {day}th, {year}",weekDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekDaysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},daysOfMonth:[31,28,31,30,31,30,31,31,30,31,30,31],TODAY:null,container:null,template:null,options:{},render:function(e){var t=document.querySelector(e.containerId);if(!t)throw new Error("No se puede encontrar el id: "+e.containerId);t.innerHTML="",this.TODAY=this.tZone(new Date(e.calendarYear,0,1,12,0,0),this.timeZone),this.options=e,this.availableLanguages=Object.keys(this.dictionary),this.ln=e.hasOwnProperty("lang")&&this.availableLanguages.includes(e.lang)?e.lang:"es";t=Object.keys(e.markers).some(e=>this.availableLanguages.includes(e));this.markers=t?e.markers[this.ln]:e.markers[0],this.container=document.querySelector(this.options.containerId),this.template=document.querySelector(this.options.templateId),this.daysLeft(),this.renderCalendar()},eventsByMonth(a,r){var e;if(!isNaN(Number(a))&&!isNaN(Number(r))&&!(a<0||12<a))return e=this.markers.filter(e=>{var{markerMonth:e,markerYear:t}=this.parseDate(e.date);return e==a&&t==r}),this.ordenarPorFecha(e)},renderCalendar:function(){for(var e in[...Array(12).keys()]){var t=this.tZone(new Date(this.options.calendarYear,e,1,12,0,0),this.timeZone),a=this.template.content.cloneNode(!0),t=this.drawCalendarMonth(t,e,a);this.container.appendChild(t)}},createWeekDays(){var e,t=document.createElement("tr");for(e of this.dictionary[this.ln].weekDaysAbbr){var a=document.createElement("th");a.setAttribute("scope","col"),a.textContent=e,t.appendChild(a)}return t},drawCalendarMonth:function(e,t,a){var r=e.getDay(),n=e.getDate(),e=e.getFullYear();const i=this.daysOfMonth[t];var s=this.dictionary[this.ln].months[t],o=a.querySelector(".js-tpl-id");o.lang=this.ln,o.id="m"+s,a.querySelector(".js-table").lang=this.ln,a.querySelector(".js-tpl-month").textContent=s;a.querySelector(".js-tpl-weekdays").appendChild(this.createWeekDays()),1===t&&(e%100!=0&&e%4==0||e%400==0)&&(i=29);var l,o=this.eventsByMonth(parseInt(t)+1,e),d=(0<o.length&&(l=a.querySelector(".js-jump-to-list"),(d=document.createElement("a")).setAttribute("tabindex","0"),d.href="#holiday-list-"+(parseInt(t)+1),d.lang=this.ln,d.textContent=this.dictionary[this.ln].jumpToList.replace("{month}",s),l.appendChild(d),s=a.querySelector(".js-tpl-holidays"),l=this.addLabel(t,e))&&s.appendChild(l),this.getCalendarStart(r,n));return this.renderMonth(a,d,i,o),a},renderMonth:function(e,t,a,r){var n=Array(42).fill(!1);let i=1;for(let e=t;e<t+a&&e<42;e++)n[e]=i,i++;var s=[];for(let e=0;e<n.length;e+=7)s.push(n.slice(e,e+7));var o,l=e.querySelector(".js-tpl-tbody");for(o of s){var d=this.drawCalendarRow(o,r);l.appendChild(d)}},drawCalendarRow:function(e,t){var a=this.dictionary[this.ln],r=t.map(e=>{var t,a;if(e)return t=e.type,{markerDayInt:e,markerMonthInt:a}=this.parseDate(e.date),[e,t,a]}),n=document.createElement("tr");for(let t of e){var i,s,o,l,d,h=document.createElement("td");t?((i=r.find(e=>e[0]===t))?([i,s,d]=i,o=a.dayAnchor.replace("{month}",a.months[d-1]).replace("{day}",i),(l=document.createElement("a")).href=`#hd-${t}-`+d,l.setAttribute("tabindex","0"),l.setAttribute("aria-label",o),l.lang=this.ln,l.textContent=i,(d=document.createElement("mark")).classList.add("bg-transparent"),d.appendChild(l),h.classList.add("bg-"+this.options.holidays_type[s]),h.appendChild(d)):h.innerHTML=t,n.appendChild(h)):(h.innerHTML="&nbsp;",n.appendChild(h))}return n},getCalendarStart:function(e,t){if(!(!Number.isInteger(e)||e<0||6<e)&&(Number.isInteger(t)&&!(t<=0)))return(e-(t-1)%7+7)%7},addLabel:function(e,t){if(!isNaN(Number(e))){t=this.eventsByMonth(parseInt(e)+1,t);if(!t)return[];var a,r=t.reduce((e,t)=>(e[t.label]?e[t.label].push(t):e[t.label]=[t],e),{}),n=document.createElement("ul");n.lang=this.ln,n.setAttribute("role","region"),n.setAttribute("tabindex","0"),n.classList.add("holidays","list-unstyled"),n.id="holiday-list-"+(parseInt(e)+1);for(a of Object.keys(r)){var i=r[a],{label:s,type:o}=i[0],o=this.dictionary[this.ln].holidaysType[o],i=i.map(e=>{var{markerDayInt:e,markerMonthInt:t}=this.parseDate(e.date),a=document.createElement("span");return a.textContent=e,a.id=`hd-${e}-`+t,a.outerHTML}).join(", ")+". "+`<span class="sr-only">${o}&nbsp;—&nbsp;</span>${s.trim()}.`,o=document.createElement("li");o.innerHTML=i,n.appendChild(o)}return n}},daysLeft:function(){var e=this.dictionary[this.ln],t=this.tZone(new Date,this.timeZone),a=document.querySelector("#js-hoynoes"),r=document.querySelector("#js-hoyes"),{calendarYear:n,holidays_type:i}=this.options,s=this.markers,o=t.getFullYear();let l=0,d=detalle="";if(n===o||n-1===o){var h,c=document.querySelector("#js-ndays"),n=document.querySelector("#js-faltan"),o=document.querySelector("#js-proximo"),u=document.querySelector("#js-detalle"),m=document.querySelector("#js-detallehoy");for(h in s){var{date:y,type:p,label:b}=s[h],{markerDay:y,markerMonth:g,markerYear:f}=this.parseDate(y),f=this.tZone(new Date(f,g-1,y),this.timeZone);if(t<f&&"no_laborable"!==p){c.classList.add("text-"+i[p]),u.classList.add("text-"+i[p]);g=Math.abs(f.getTime()-t.getTime()),y=(l=Math.ceil(g/864e5),f.getDate()),p=e.months[f.getMonth()];d=e.nextHoliday.replace("{day}",y).replace("{month}",p).replace("{year}",f.getFullYear()),detalle=b;break}}for(h in 1==l?this.toggleText("text-singular",this.ln):this.toggleText("text-plural",this.ln),this.toggleText("text",this.ln),n.innerHTML=l,o.innerHTML=d,o.lang=this.ln,u.innerHTML=detalle,s){var{date:D,type:v,label:M}=s[h],{markerDay:D,markerMonth:k,markerYear:L}=this.parseDate(D),L=this.tZone(new Date(L,k-1,D),this.timeZone);if(t.getDate()==L.getDate()&&t.getMonth()==L.getMonth()&&"no_laborable"!==v){r.classList.remove("hidden"),r.removeAttribute("aria-hidden"),r.classList.add("text-"+i[v]),a.classList.add("hidden"),a.setAttribute("aria-hidden","true"),m.innerHTML=M,m.className="text-"+i[v];break}}}else a.classList.add("hidden"),r.classList.add("hidden")}};