let calendar={dictionary:{es:{falta:{plural:"faltan",singular:"falta"},dia:{plural:"días",singular:"día"}}},TODAY:null,months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weekDayName:["Dom","Lun","Mar","Mie","Jue","Vie"],daysOfMonth:[31,28,31,30,31,30,31,31,30,31,30,31],container:null,template:null,options:{},render:function(t){_this=this,document.querySelectorAll(t.containerId+", .js-holidays").forEach(t=>t.innerHTML=""),this.TODAY=new Date(Date.UTC(t.calendarYear,0,1,3,0,0)),this.options=t,this.daysOfMonth=t.daysOfMonth||this.daysOfMonth,this.container=jQuery(this.options.containerId),this.template=jQuery(this.options.templateId),this.iteration_date=new Date(Date.UTC(this.TODAY.getFullYear(),this.TODAY.getMonth(),1,3,0,0)),this.renderCalendar(),this.options.markers.forEach(function(t){_this.markDates(t)}),this.daysLeft(),document.querySelectorAll(".js-holidays").forEach(t=>t.hasChildNodes()?null:t.remove())},renderCalendar:function(){_this=this;var a=new Date(Date.UTC(_this.TODAY.getFullYear(),_this.TODAY.getMonth(),1,3,0,0));this.template.hide(),this.months.forEach(function(t,e){t=_this.getTplClone(_this.template,"m"+t);_this.container.append(t),a.setUTCMonth(e),_this.drawCalendarMonth(a,t.attr("id"))})},drawCalendarMonth:function(t,e){var a=t.getUTCMonth(),n=t.getUTCDay(),r=t.getUTCFullYear(),l=t.getUTCDate(),s=this.daysOfMonth[a],i=(jQuery("#"+e).find("h2").first().text(this.months[a]),0);t.getUTCMonth()===a&&t.getUTCFullYear()===r&&(i=l),1===a&&(r%100!=0&&r%4==0||r%400==0)&&(s=29),this.renderMonth(e,this.getCalendarStart(n,l),s,i)},renderMonth:function(t,e,a,n){let r=1,l=e,s=jQuery("#"+t);var i,o=this.drawCalendarRow(s);let d=1;for(;d<=a;d++)(i=o.find("td").eq(l)).text(d),d===n&&i.addClass("today"),0===(l=++l%7)&&d+1<=a&&(o=this.drawCalendarRow(s),r++);for(;r<6;)o=this.drawCalendarRow(s),r++},drawCalendarRow:function(t){for(var t=t.find("table").first(),e=jQuery("<tr/>"),a=0;a<7;a++)e.append(jQuery("<td/>").html("&nbsp;"));return t.append(e),e},getCalendarStart:function(t,e){e=(e-1)%7-t;return 0<e&&(e-=7),Math.abs(e)},getTplClone:function(t,e){return t.clone().attr("id",e).show()},markDates:function(t){_this=this;var e,a="",n=null;for(e in t){var r=t[e].date.split("/"),r=new Date(Date.UTC(r[2],r[1]-1,r[0],3,0,0)),l=_this.months[r.getMonth()],l=jQuery("#m"+l),s=r.getDate(),i=r.getUTCFullYear(),o=r.getUTCDay(),d=t[e].type,o=_this.getCalendarStart(o,s),h=t[e].label;i===_this.TODAY.getUTCFullYear()&&(l.find("td").eq(s+o+6).addClass("bg-"+_this.options.holidays_type[d]),_this.addLabel(l,s,h,a,n),a=t[e].label,n=r)}},addLabel:function(t,e,a,n,r){let l="",s=null;r=r?r.getDate():e;a==n&&e===r+1?(s=t.find(".js-holidays").find("p").last(),l=s.text().replace(/(\d+),*\./,"$1, "+e+"."),this.options.allowHTML?s.html(l):s.text(l)):(l=this.options.allowHTML?jQuery("<p/>").html(e+". "+a):jQuery("<p/>").text(e+". "+a),(s=t.find(".js-holidays")).append(l))},daysLeft:function(){var t=new Date,e=document.querySelector("#js-hoynoes"),a=document.querySelector("#js-hoyes"),{calendarYear:n,markers:r,holidays_type:l}=this.options,s=t.getFullYear();let i=0,o=detalle="";if(n===s||n-1===s){var d=document.querySelector("#js-ndays"),n=document.querySelector("#js-faltan"),s=document.querySelector("#js-proximo"),h=document.querySelector("#js-detalle"),u=document.querySelector("#js-detallehoy"),c=document.querySelector(".js-dia"),y=document.querySelector(".js-falta");for(C in r[0]){var f=r[0][C],p=f.date.split("/"),p=new Date(p[2],p[1]-1,p[0]);if(t<p&&"no_laborable"!==f.type){d.classList.add("text-"+l[f.type]),h.classList.add("text-"+l[f.type]);var m=Math.abs(p.getTime()-t.getTime()),m=(i=Math.ceil(m/864e5),p.getDate()),g=this.months[p.getMonth()];o=`${m} de ${g.toLocaleLowerCase()} `+"de "+p.getFullYear(),detalle=f.label;break}}var C,{falta:M,dia:T}=this.dictionary.es,D=1==i;for(C in c.textContent=D?T.singular:T.plural,y.textContent=D?M.singular:M.plural,n.innerHTML=i,s.innerHTML=o,h.innerHTML=detalle,r[0]){var b=r[0][C],j=b.date.split("/"),j=new Date(j[2],j[1]-1,j[0]);if(t.getDate()==j.getDate()&&t.getMonth()==j.getMonth()&&"no_laborable"!==b.type){a.classList.remove("hidden"),a.classList.add("text-"+l[b.type]),e.classList.add("hidden"),u.innerHTML=b.label,u.className="text-"+l[b.type];break}}}else e.classList.add("hidden"),a.classList.add("hidden")}};