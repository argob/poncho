class DeviceBreadcrumb{constructor(e){e=Object.assign({},this.defaults(),e);this.breakPoint=e.breakPoint,this.selector=e.selector,this.domain=e.domain,this.addGlobalAttributes()}defaults=()=>({breakPoint:991,selector:".breadcrumb",domain:["^/$",location.host+"/?$"]});expandButton=()=>{var e=document.createElement("button"),t=(e.textContent="…",e.classList.add("js-device-breadcrumb--ignore","device-breadcrumb__expand-button"),e.dataset.title="Expandir menú",e.setAttribute("aria-label","Expande el menú de miga de pan"),document.createElement("li"));return t.classList.add("device-breadcrumb__unstyled","js-ellip"),t.appendChild(e),t};closeButton=()=>{var e=document.createElement("button"),t=(e.textContent="Cerrar",e.classList.add("device-breadcrumb__compress-button","js-device-breadcrumb--ignore","btn","btn-sm","btn-link"),e.dataset.title="Contraer menú",e.setAttribute("aria-label","Cierra el menú de miga de pan"),document.createElement("li"));return t.classList.add("js-close","device-breadcrumb__unstyled","device-breadcrumb__compress-button"),t.appendChild(e),t};_removeDeviceHidden=e=>e.forEach(e=>e.classList.add("device-breadcrumb--expanded"));addGlobalAttributes=()=>document.querySelectorAll(this.selector).forEach(e=>{e.classList.add("device-breadcrumb"),e.setAttribute("role","list"),e.setAttribute("aria-label","Migas de pan")});_removeExpanded=e=>e.forEach(e=>e.classList.remove("device-breadcrumb--expanded"));isHomeLink=e=>{let t;var i;return"object"==typeof e.firstChild&&null!==e.firstChild&&"getAttribute"in e.firstChild&&(e=e.firstChild.getAttribute("href"),i=new RegExp(`(${this.domain.join("|")})`),t=i.exec(e)),t||!1};_isFirstElementHome=e=>{let i=!1;return e.forEach((e,t)=>{0==t&&(i=this.isHomeLink(e))}),i};isTextItem=e=>"A"!=e.firstChild?.tagName&&""!=e.firstChild?.textContent;_isLastElementText=e=>{let t;return e.forEach(e=>t=this.isTextItem(e)),t};removeButtons=()=>document.querySelectorAll(".js-ellip, .js-close").forEach(e=>e.remove());_onClickExpandButton=t=>document.querySelectorAll(".js-ellip").forEach(e=>e.addEventListener("click",()=>this._removeDeviceHidden(t)));_onClickCloseButton=t=>document.querySelectorAll(".js-close").forEach(e=>e.addEventListener("click",()=>this._removeExpanded(t)));_isJumbotron=e=>!!e.closest(".jumbotron_bar");_hideBreadcrumb=e=>{e.forEach(e=>{(this._isJumbotron(e)?e.closest(".jumbotron_bar"):e).classList.add("device-breadcrumb__hidden")})};render=(e=window.innerWidth)=>{this.removeButtons();var t=document.querySelectorAll(this.selector+" li"),i=document.querySelectorAll(this.selector);let r=t.length,s=this._isLastElementText(t);var d=this._isFirstElementHome(t);let a=s?r-2:r-1;var n=r,n=s?n-1:n;(n=d?n-1:n)<=0?this._hideBreadcrumb(i):(t.forEach((e,t)=>{this.isHomeLink(e)?e.classList.add("device-breadcrumb__hidden-item"):this.isTextItem(e)&&t==r-1?(e.classList.add("device-breadcrumb__hidden-item"),e.setAttribute("aria-current","page")):s&&t==r-2?e.classList.add("device-breadcrumb__last-visible-item"):t<a&&e.classList.add("device-breadcrumb__toggle-item")}),e<=this.breakPoint&&1<n&&((d=t[0]).parentNode.insertBefore(this.expandButton(),d),i.forEach(e=>{e.appendChild(this.closeButton())})),this._onClickExpandButton(i),this._onClickCloseButton(i))}}